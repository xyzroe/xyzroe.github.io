<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ZigUSB | xyzroe's blog</title><meta name=description content="New version of this device - ZigUSB C6 ZigUSB was developed as a device that allows you to control and monitor the power of a device connected via USB.
Using â€¦"><meta property="og:title" content="ZigUSB | xyzroe's blog"><meta property="og:description" content="New version of this device - ZigUSB C6 ZigUSB was developed as a device that allows you to control and monitor the power of a device connected via USB.
Using â€¦"><meta property="og:type" content="article"><meta property="og:url" content="/posts/zigusb/"><meta property="og:site_name" content="xyzroe's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="ZigUSB | xyzroe's blog"><meta name=twitter:description content="New version of this device - ZigUSB C6 ZigUSB was developed as a device that allows you to control and monitor the power of a device connected via USB.
Using â€¦"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"ZigUSB | xyzroe\u0027s blog","url":"\/posts\/zigusb\/","headline":"ZigUSB","datePublished":"2023-03-29T00:00:00Z","author":{"@type":"Person","name":"xyzroe"}}</script><link rel=stylesheet href=/scss/main.min.1d1fe03b396532170236a6ca8173c8391e4fa34f887c1157456e848138ce997d.css integrity="sha256-HR/gOzllMhcCNqbKgXPIOR5Po0+IfBFXRW6EgTjOmX0="><script src=/js/main.min.f6ca1ba1f6d8ce1ff00e4297e1c18f2d5bab853850f82c9d5419deb26fa3c893.js integrity="sha256-9sobofbYzh/wDkKX4cGPLVurhThQ+CydVBnesm+jyJM=" defer></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5JP6L4L4DL"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5JP6L4L4DL")</script><link rel=icon type=image/png href=/img/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/img/favicon.svg><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="xyzroe.cc"><link rel=manifest href=/img/site.webmanifest><link rel=stylesheet href=/css/google-translate.css><link rel=stylesheet href=/css/accordion.css><link rel=stylesheet href=/css/custom.css><script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js></script><script src=/js/google-translate.js></script><script src=/js/custom.js></script></head><body><div class=particles id=particles></div><nav role=navigation aria-label="Main navigation"><div class=container><div class=nav-container><a href=/ class=logo aria-label="xyzroe's blog - Home"><img src=/img/logo.png alt="xyzroe's blog">XYZROE</a><ul class=nav-links id=nav-menu><li><a href=/ aria-current=false>Home</a></li><li><a href=/posts/ aria-current=false>Projects</a></li><li><a href=/about/ aria-current=false>About</a></li><li><a href=/social/ aria-current=false>Social</a></li></ul><button class=mobile-menu-btn aria-expanded=false aria-controls=nav-menu aria-label="Toggle navigation menu">â˜°</button><div class=language-selector><div class=flag-icon>ğŸŒ</div><div class=language-list style=display:none><a href=# alt=EN data-google-lang=en class="language__img language__img_active">ğŸ‡¬ğŸ‡§</a>
<a href=# alt=UA data-google-lang=uk class=language__img>ğŸ‡ºğŸ‡¦</a>
<a href=# alt=PL data-google-lang=pl class=language__img>ğŸ‡µğŸ‡±</a>
<a href=# alt=IL data-google-lang=iw class=language__img>ğŸ‡®ğŸ‡±</a>
<a href=# alt=DE data-google-lang=de class=language__img>ğŸ‡©ğŸ‡ª</a>
<a href=# alt=FR data-google-lang=fr class=language__img>ğŸ‡«ğŸ‡·</a>
<a href=# alt=ES data-google-lang=es class=language__img>ğŸ‡ªğŸ‡¸</a>
<a href=# alt=IT data-google-lang=it class=language__img>ğŸ‡®ğŸ‡¹</a>
<a href=# alt=NL data-google-lang=nl class=language__img>ğŸ‡³ğŸ‡±</a>
<a href=# alt=RU data-google-lang=ru class=language__img>ğŸ‡·ğŸ‡º</a>
<a href=# alt=ZH data-google-lang=zh-CN class=language__img>ğŸ‡¨ğŸ‡³</a></div></div></div></div></nav><main id=main role=main><div class=about-container><article class=about-content><div class=terminal-header><div class=terminal-buttons><span class=btn-close></span>
<span class=btn-minimize></span>
<span class=btn-maximize></span></div><div class=terminal-title>ZigUSB.md</div></div><div class=terminal-body><div class=prompt-line><span class=prompt>$</span>
<span class=command>cat zigusb.md</span></div><div class=content><h2 id=new-version-of-this-device---zigusb-c6>New version of this device - <a href=https://github.com/xyzroe/ZigUSB_C6>ZigUSB C6</a></h2><p>ZigUSB was developed as a device that allows you to control and monitor the power of a device connected via USB.</p><p>Using this device, you can remotely control the power of the USB port to turn on or off the connected device. And also monitor the current voltage and current. And it&rsquo;s not a bad Zigbee network router.</p><p>Frequent use cases: converting a &ldquo;stupid&rdquo; USB lamp into a &ldquo;smart&rdquo; one; connecting modems / sticks / adapters, which sometimes require a power reset; monitoring the current consumption of any connected device.</p><p>Possibilities:</p><ul><li>Power on/off by push button and via Zigbee network.</li><li>Automatic restart loop of the connected device with a single Zigbee command.</li><li>Monitoring of voltage and current supplied to the connected device, INA219 chip.</li><li>Setting the maximum USB current using a variable resistor on the board (1.0-3.2A)</li><li>For power management, a MIC2545A USB switch chip is used.</li><li>E18-MS1PA2-PCB (CC2530 with +20dBi amplifier) â€‹â€‹was used as the Zigbee chip, which allows it to be used in remote places, and at the same time act as a good router for other devices.</li><li>USB data transfer is available. This may be needed when connecting a USB modem to a router that does not know how to manage USB power, and the modem may need to be rebooted.</li><li>Designed for AK-N-12 case.</li><li>To re-pairing or reset to factory defaults:<br><strong>Power on (plug into power source), wait 2 seconds, power off (remove from power source), repeat this cycle three times.</strong></li></ul><h3 id=overview>Overview</h3><h4 id=touch-version>Touch version</h4><div align=center><img width=40% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/top_touch.png>
<img width=40% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/bottom_touch.png></div><h4 id=button-version>Button version</h4><div align=center><img width=40% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/top.png>
<img width=40% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/bottom.png></div><h3 id=photos>Photos</h3><h4 id=touch-version-1>Touch version</h4><table><tr><td width=50%><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/top_case_touch.jpeg></td><td><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/back_case_touch.jpeg></td></tr></table><div align=center><img width=70% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/top_pcb_touch.jpeg></div><h4 id=button-version-1>Button version</h4><table><tr><td width=50%><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/top_case.jpeg></td><td><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/back_case.jpeg></td></tr><tr><td width=50%><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/top_pcb.jpeg></td><td><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/back_pcb.jpeg></td></tr></table><h3 id=schematic>Schematic</h3><div align=center><img width=90% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/hardware/Schematic_ZigUSB.png></div><div align=center><img width=90% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/hardware/Schematic_ZigUSB_touch.png></div><h3 id=ptvo-config>PTVO Config</h3><h4 id=touch-version-2>Touch version</h4><div align=center><img width=70% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/ptvo_1_touch.png></div><h4 id=button-version-2>Button version</h4><div align=center><img width=70% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/ptvo_1.png></div><h4 id=zigbee2mqtt--home-assistant-overview>zigbee2mqtt & Home Assistant overview</h4><div align=center></div><table><tbody><tr><td><img width=50% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/z2m_device.png></td><td rowspan=2><img src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/ha.png></td></tr><tr><td><img width=70% src=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/images/z2m_exposes.png></td></tr></tbody></table><h3 id=hardware-files>Hardware files</h3><h4 id=touch-version-3>Touch version</h4><p><a href=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/hardware/Gerber_ZigUSB_touch.zip>Gerber</a><br><a href=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/hardware/BOM_ZigUSB_touch.csv>BOM</a> or <a href=https://xyzroe.cc/ZigUSB/hardware/iBOM_ZigUSB_touch.html>iBOM</a> ğŸš€</p><h4 id=button-version-3>Button version</h4><p><a href=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/hardware/Gerber_ZigUSB.zip>Gerber</a><br><a href=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/hardware/BOM_ZigUSB.csv>BOM</a> or <a href=https://xyzroe.cc/ZigUSB/hardware/zigbee_usb_power_switch_final_rev0.html>iBOM</a> ğŸš€</p><h3 id=firmware-files>Firmware files</h3><p><a href=https://github.com/xyzroe/ZigUSB/tree/main/firmware/ZigUSB_updated.js>NEW z2m external converter</a> ğŸ‰ (for new z2m ext converter format) <strong>with NEW image</strong><br><a href=https://github.com/xyzroe/ZigUSB/tree/main/firmware/ZigUSB.js>old z2m external converter</a></p><p><a href=https://github.com/xyzroe/ZigUSB/tree/main/firmware>All FW .hex, PTVO .ini, .txt and converter .js files</a></p><h3 id=verified-supported-zigbee-systems>Verified supported Zigbee systems:</h3><ol><li><a href=https://www.zigbee2mqtt.io/>zigbee2mqtt</a> - FULL support, no more need <a href=https://github.com/xyzroe/ZigUSB/tree/main/firmware/ZigUSB_updated.js>external converter</a> â­â­â­â­â­</li><li><a href=https://homey.app/>Homey</a> - FULL support, <a href=https://homey.app/a/cc.xyzroe.zigusb/>more info</a>. Thanks to <a href=https://github.com/abn>Arun Babu Neelicattu</a> â­â­â­â­â­</li><li><a href=https://wiki.homed.dev/page/HOMEd>HOMEd</a> - partial support. On-off control inversed. â­â­â­â­</li><li><a href=https://www.home-assistant.io/integrations/zha/>ZHA</a> - partial support. No current and voltage sensor, no ability to restart USB device, on-off control inversed. â­â­â­</li><li>Samsung Smartthings Hub - partial support. No sensors, no ability to restart USB device, on-off control inversed. â­â­â­</li></ol><p>other systems supported Zigbee should also work, but need testing.</p><h3 id=where-to-buy>Where to buy?</h3><p>Tindie stopped supporting shipments from Ukraine, so now you can only buy on my partnersâ€™ website (shipping worldwide)</p><p><a href=https://mind.in.ua/><img src=https://static.tildacdn.com/tild3433-3934-4565-b362-386238366331/logo_full.png alt="Go to mind.in.ua" height=120></a></p><h3 id=like->Like â™¥ï¸?</h3><p><a href=https://www.buymeacoffee.com/xyzroe><img src=https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png alt="&ldquo;Buy Me A Coffee&rdquo;"></a></p><br><p><a href=https://stand-with-ukraine.pp.ua><img src="https://img.shields.io/badge/made_in-ukraine-ffd700.svg?labelColor=0057b7" alt="Made in Ukraine"></a></p><h3 id=inspired-by>Inspired by</h3><ol><li>The original project of USB switch by <a href=https://kasito.ru/zigbee-vyklyuchatel-usb-nagruzki/>Kasito</a></li><li>Zigbee configurable firmware <a href=https://ptvo.info>PTVO</a></li></ol><br>ZigUSB is licensed under the<p><a href=https://raw.githubusercontent.com/xyzroe/ZigUSB/main/LICENSE>GNU General Public License v3.0</a></p></div></div></article></div></main><footer style="background:rgba(0,0,0,.3);padding:2rem 0;margin-top:4rem;text-align:center;border-top:1px solid rgba(255,255,255,.1)"><div class=container><p style=color:#888;margin:0>Copyright Â© 2025 â€¢
Made with â™¥ï¸ by <a href=https://github.com/xyzroe target=_blank style=color:#9d50bb;text-decoration:none>xyzroe</a></p></div></footer><script>feather.replace()</script></body></html>