<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Lumi Router JN5169 | xyzroe's blog</title><meta name=description content=" This is fork of Lumi Router JN5169 firmware for use with the LM15-SP-WM module used in the Xiaomi Smart Plug (ZNCZ02LM).
Also it can be used with any other â€¦"><meta property="og:title" content="Lumi Router JN5169 | xyzroe's blog"><meta property="og:description" content=" This is fork of Lumi Router JN5169 firmware for use with the LM15-SP-WM module used in the Xiaomi Smart Plug (ZNCZ02LM).
Also it can be used with any other â€¦"><meta property="og:type" content="article"><meta property="og:url" content="/posts/lumi_router/"><meta property="og:site_name" content="xyzroe's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Lumi Router JN5169 | xyzroe's blog"><meta name=twitter:description content=" This is fork of Lumi Router JN5169 firmware for use with the LM15-SP-WM module used in the Xiaomi Smart Plug (ZNCZ02LM).
Also it can be used with any other â€¦"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"Lumi Router JN5169 | xyzroe\u0027s blog","url":"\/posts\/lumi_router\/","headline":"Lumi Router JN5169","datePublished":"2021-07-07T00:00:00Z","author":{"@type":"Person","name":"xyzroe"}}</script><link rel=stylesheet href=/scss/main.min.e21d8701bb2755b9f59c44e3bc4cbfb4e9066ace5df887419035c604e0c658e3.css integrity="sha256-4h2HAbsnVbn1nETjvEy/tOkGas5d+IdBkDXGBODGWOM="><script src=/js/main.min.f6ca1ba1f6d8ce1ff00e4297e1c18f2d5bab853850f82c9d5419deb26fa3c893.js integrity="sha256-9sobofbYzh/wDkKX4cGPLVurhThQ+CydVBnesm+jyJM=" defer></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5JP6L4L4DL"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5JP6L4L4DL")</script><link rel=icon type=image/png href=/img/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/img/favicon.svg><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="xyzroe.cc"><link rel=manifest href=/img/site.webmanifest><link rel=stylesheet href=/css/google-translate.css><link rel=stylesheet href=/css/accordion.css><link rel=stylesheet href=/css/custom.css><script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js></script><script src=/js/google-translate.js></script><script src=/js/custom.js></script></head><body><div class=particles id=particles></div><nav role=navigation aria-label="Main navigation"><div class=container><div class=nav-container><a href=/ class=logo aria-label="xyzroe's blog - Home"><img src=/img/logo.png alt="xyzroe's blog">XYZROE</a><ul class=nav-links id=nav-menu><li><a href=/ aria-current=false>Home</a></li><li><a href=/posts/ aria-current=false>Projects</a></li><li><a href=/about/ aria-current=false>About</a></li><li><a href=/social/ aria-current=false>Social</a></li></ul><button class=mobile-menu-btn aria-expanded=false aria-controls=nav-menu aria-label="Toggle navigation menu">â˜°</button><div class=language-selector><div class=flag-icon>ğŸŒ</div><div class=language-list style=display:none><a href=# alt=EN data-google-lang=en class="language__img language__img_active">ğŸ‡¬ğŸ‡§</a>
<a href=# alt=UA data-google-lang=uk class=language__img>ğŸ‡ºğŸ‡¦</a>
<a href=# alt=PL data-google-lang=pl class=language__img>ğŸ‡µğŸ‡±</a>
<a href=# alt=IL data-google-lang=iw class=language__img>ğŸ‡®ğŸ‡±</a>
<a href=# alt=DE data-google-lang=de class=language__img>ğŸ‡©ğŸ‡ª</a>
<a href=# alt=FR data-google-lang=fr class=language__img>ğŸ‡«ğŸ‡·</a>
<a href=# alt=ES data-google-lang=es class=language__img>ğŸ‡ªğŸ‡¸</a>
<a href=# alt=IT data-google-lang=it class=language__img>ğŸ‡®ğŸ‡¹</a>
<a href=# alt=NL data-google-lang=nl class=language__img>ğŸ‡³ğŸ‡±</a>
<a href=# alt=RU data-google-lang=ru class=language__img>ğŸ‡·ğŸ‡º</a>
<a href=# alt=ZH data-google-lang=zh-CN class=language__img>ğŸ‡¨ğŸ‡³</a></div></div></div></div></nav><main id=main role=main><div class=about-container><article class=about-content><div class=terminal-header><div class=terminal-buttons><span class=btn-close></span>
<span class=btn-minimize></span>
<span class=btn-maximize></span></div><div class=terminal-title>Lumi Router JN5169.md</div></div><div class=terminal-body><div class=prompt-line><span class=prompt>$</span>
<span class=command>cat lumi router jn5169.md</span></div><div class=content><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin=anonymous><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><p>This is fork of <a href=https://github.com/igo-r/Lumi-Router-JN5169>Lumi Router JN5169 firmware</a> for use with the LM15-SP-WM module used in the Xiaomi Smart Plug (ZNCZ02LM).<br>Also it can be used with any other JN5169 based module.</p><p>The only difference is the ability to reset the device using a button on DIO 0.<br>In the original firmware, all control takes place only through the serial port.</p><hr><h2 id=how-to-flash>How to flash</h2><ol><li>Download <a href=https://www.nxp.com/downloads/en/software-support/JN-SW-4107.zip>JN-SW-4107</a> and install</li><li>Connect using JP1 to your USB-TTL according to table below:</li></ol><table><thead><tr><th>LM15-SP-WM (JP1)</th><th>JN5169</th><th>Function</th><th>USB-TTL</th></tr></thead><tbody><tr><td>1</td><td>DIO 28</td><td>TXD0</td><td>RX</td></tr><tr><td>2</td><td>DIO 29</td><td>RXD0</td><td>TX</td></tr><tr><td>3</td><td>DIO 22</td><td>SPIMISO</td><td>GND</td></tr><tr><td>4</td><td>DIO 9/39</td><td>VDD</td><td>3.3V</td></tr><tr><td>5</td><td>DIO 3</td><td>RESETN</td><td>&mdash;</td></tr><tr><td>6</td><td>DIO 21/39</td><td>VSS</td><td>GND</td></tr></tbody></table><ol start=3><li>Download firmware binary to <code>C:\NXP\ProductionFlashProgrammer</code> and open console at this folder.</li><li>Run <code>JN51xxProgrammer.exe -s COM1 -f LumiRouter_20210707.bin -v -V</code></li></ol><hr><h2 id=reset-and-join>Reset and join</h2><p>The device enters join mode in two cases:</p><ol><li>When PDM memory is erased</li><li>Right after leaving existing network</li></ol><p>Long (> 2000ms) clicking on BTN (DIO0 to GND) erases PDM memory.
The device will restart and then automatically join.</p><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/z2m.png alt></p><h2 id=restart>Restart</h2><p>Close JP1_5 (DIO 3) on GND to restart device.</p><hr><h3 id=small-prehistory>Small prehistory</h3><p>Some time ago I found such modules based on JNN5169 on TaoBao and ordered a couple.</p><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/taobao.jpg alt></p><p>Initially, I planned to use them as development boards to learn and play Zigbee SDK by NXP. I soldered just such a comb for easy installation into a breadboard.</p><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/module.jpeg alt></p><p>But since they are not very convenient as a development board, it was decided to make routers out of them to expand the Zigbee network.</p><hr><h3 id=making>Making</h3><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/start.jpeg alt></p><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/back_side.jpeg alt></p><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/finish.jpeg alt></p><p><img src=https://raw.githubusercontent.com/xyzroe/Lumi-Router-JN5169/master/images/installed.jpeg alt></p><hr><h2 id=thanks-and-links>Thanks and links</h2><p><a href=https://github.com/igo-r/Lumi-Router-JN5169>Original Lumi Router JN5169 firmware</a> by <a href=https://github.com/igo-r>Igor Listopad</a></p><p>Lots of info about LM15-SP-WM thanks to <a href=https://t.me/AFaron0v>@AFaron0v</a></p><p><a href=https://alephsecurity.com/2019/07/01/xiaomi-zigbee-1/>Xiaomi Zigbee (1): Getting to know the hardware</a>
by Lev Aronsky <a href=https://twitter.com/levaronsky>@levaronsky</a></p><p><a href=https://habr.com/ru/post/547374/>Hello NXP JN5169 World</a> by Oleksandr Masliuchenko <a href=https://t.me/grafalex82>@grafalex82</a></p><p><a href=https://habr.com/ru/post/547374/#comment_22819072>Comment 22819072</a> thanks to <a href=https://t.me/mrG1K>@mrG1K</a></p></div></div></article></div></main><footer style="background:rgba(0,0,0,.3);padding:2rem 0;margin-top:4rem;text-align:center;border-top:1px solid rgba(255,255,255,.1)"><div class=container><p style=color:#888;margin:0>Copyright Â© 2025 â€¢
Made with â™¥ï¸ by <a href=https://github.com/xyzroe target=_blank style=color:#9d50bb;text-decoration:none>xyzroe</a></p></div></footer><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=/js/load-photoswipe.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin=anonymous></script><script>feather.replace()</script></body></html>