<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>AirPrint with Epson TM-T20II | xyzroe's blog</title><meta name=description content=" Ubuntu Xenial Docker image with CUPS and additional Epson TM-T20II drivers It is intended to be used as an AirPrint relay on the Synology NAS, and the local â€¦"><meta property="og:title" content="AirPrint with Epson TM-T20II | xyzroe's blog"><meta property="og:description" content=" Ubuntu Xenial Docker image with CUPS and additional Epson TM-T20II drivers It is intended to be used as an AirPrint relay on the Synology NAS, and the local â€¦"><meta property="og:type" content="article"><meta property="og:url" content="/posts/cups-airprint-epson-tm/"><meta property="og:site_name" content="xyzroe's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="AirPrint with Epson TM-T20II | xyzroe's blog"><meta name=twitter:description content=" Ubuntu Xenial Docker image with CUPS and additional Epson TM-T20II drivers It is intended to be used as an AirPrint relay on the Synology NAS, and the local â€¦"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"AirPrint with Epson TM-T20II | xyzroe\u0027s blog","url":"\/posts\/cups-airprint-epson-tm\/","headline":"AirPrint with Epson TM-T20II","datePublished":"2021-01-02T00:00:00Z","author":{"@type":"Person","name":"xyzroe"}}</script><link rel=stylesheet href=/scss/main.min.1d1fe03b396532170236a6ca8173c8391e4fa34f887c1157456e848138ce997d.css integrity="sha256-HR/gOzllMhcCNqbKgXPIOR5Po0+IfBFXRW6EgTjOmX0="><script src=/js/main.min.f6ca1ba1f6d8ce1ff00e4297e1c18f2d5bab853850f82c9d5419deb26fa3c893.js integrity="sha256-9sobofbYzh/wDkKX4cGPLVurhThQ+CydVBnesm+jyJM=" defer></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5JP6L4L4DL"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5JP6L4L4DL")</script><link rel=icon type=image/png href=/img/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/img/favicon.svg><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="xyzroe.cc"><link rel=manifest href=/img/site.webmanifest><link rel=stylesheet href=/css/google-translate.css><link rel=stylesheet href=/css/accordion.css><link rel=stylesheet href=/css/custom.css><script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js></script><script src=/js/google-translate.js></script><script src=/js/custom.js></script></head><body><div class=particles id=particles></div><nav role=navigation aria-label="Main navigation"><div class=container><div class=nav-container><a href=/ class=logo aria-label="xyzroe's blog - Home"><img src=/img/logo.png alt="xyzroe's blog">XYZROE</a><ul class=nav-links id=nav-menu><li><a href=/ aria-current=false>Home</a></li><li><a href=/posts/ aria-current=false>Projects</a></li><li><a href=/about/ aria-current=false>About</a></li><li><a href=/social/ aria-current=false>Social</a></li></ul><button class=mobile-menu-btn aria-expanded=false aria-controls=nav-menu aria-label="Toggle navigation menu">â˜°</button><div class=language-selector><div class=flag-icon>ğŸŒ</div><div class=language-list style=display:none><a href=# alt=EN data-google-lang=en class="language__img language__img_active">ğŸ‡¬ğŸ‡§</a>
<a href=# alt=UA data-google-lang=uk class=language__img>ğŸ‡ºğŸ‡¦</a>
<a href=# alt=PL data-google-lang=pl class=language__img>ğŸ‡µğŸ‡±</a>
<a href=# alt=IL data-google-lang=iw class=language__img>ğŸ‡®ğŸ‡±</a>
<a href=# alt=DE data-google-lang=de class=language__img>ğŸ‡©ğŸ‡ª</a>
<a href=# alt=FR data-google-lang=fr class=language__img>ğŸ‡«ğŸ‡·</a>
<a href=# alt=ES data-google-lang=es class=language__img>ğŸ‡ªğŸ‡¸</a>
<a href=# alt=IT data-google-lang=it class=language__img>ğŸ‡®ğŸ‡¹</a>
<a href=# alt=NL data-google-lang=nl class=language__img>ğŸ‡³ğŸ‡±</a>
<a href=# alt=RU data-google-lang=ru class=language__img>ğŸ‡·ğŸ‡º</a>
<a href=# alt=ZH data-google-lang=zh-CN class=language__img>ğŸ‡¨ğŸ‡³</a></div></div></div></div></nav><main id=main role=main><div class=about-container><article class=about-content><div class=terminal-header><div class=terminal-buttons><span class=btn-close></span>
<span class=btn-minimize></span>
<span class=btn-maximize></span></div><div class=terminal-title>AirPrint with Epson TM-T20II.md</div></div><div class=terminal-body><div class=prompt-line><span class=prompt>$</span>
<span class=command>cat airprint with epson tm-t20ii.md</span></div><div class=content><p><img src=Epson-TM-T20II-POS.png alt="EPSON TM T20II">
<img src=Apple-AirPrint-new-logo.png alt="Apple AirPrint"></p><h2 id=ubuntu-xenial-docker-image-with-cups-and-additional-epson-tm-t20ii-drivers>Ubuntu Xenial Docker image with CUPS and additional Epson TM-T20II drivers</h2><p>It is intended to be used as an AirPrint relay on the Synology NAS, and the local Avahi will be used to advertise printers on the network.</p><p>Changes in comparison with the <a href=https://github.com/quadportnick/docker-cups-airprint>original</a>:</p><ul><li>updated version of Ubuntu</li><li>added prebuilt rastertozj from <a href=https://github.com/nemik/epson-tm-t20-cups>here</a></li><li>added tm-t20-orig.ppd is tm-t20ii-rastertotmt.ppd provided on Epson site modifited to use rastertozj filter</li><li>added tm-t20-NP.ppd to make possible print Nova Poshta Zebra Markings 100x100mm from iOS browser (with image scaling)</li><li>added tm-t20-TG.ppd to make possible print Nova Poshta Zebra Markings 100x100mm from iOS PDF file (without image scaling)</li></ul><p>This is also a reason to dive deeper into GitHub / Docker / CUPS, so why not? Hope this is helpful to someone.</p><h3 id=prereqs>Prereqs</h3><ul><li>No other printers should be shared under Control Panel>External Devices>Printer so that the DSM&rsquo;s CUPS is not running.</li><li><code>Enable Bonjour service discovery</code> needs to be marked under Control Panel>Network>DSM Settings</li></ul><h3 id=configuration>Configuration</h3><h4 id=volumes>Volumes:</h4><ul><li><code>/config</code>: where the persistent printer configs will be stored</li><li><code>/services</code>: where the Avahi service files will be generated</li></ul><h4 id=variables>Variables:</h4><ul><li><code>CUPSADMIN</code>: the CUPS admin user you want created</li><li><code>CUPSPASSWORD</code>: the password for the CUPS admin user</li></ul><h4 id=ports>Ports:</h4><ul><li><code>631</code>: the TCP port for CUPS must be exposed</li></ul><h3 id=using>Using</h3><p>CUPS will be configurable at http://[diskstation]:631 using the CUPSADMIN/CUPSPASSWORD when you do something administrative.</p><h3 id=cli-mode-running>CLI mode running</h3><pre tabindex=0><code>docker run -d \
  --name=cups \
  --restart unless-stopped \
  -p 631:631 \
  -v /volume/docker/cups/config:/config \
  -v /etc/avahi/services:/services \
  -e CUPSADMIN=&#34;admin&#34; \
  -e CUPSPASSWORD=&#34;admin&#34; \
  xyzroe/cups-airprint-epson-tm
</code></pre><h3 id=notes>Notes</h3><ul><li>If the <code>/services</code> volume isn&rsquo;t mapping to <code>/etc/avahi/services</code> then you will have to manually copy the .service files to that path at the command line.</li><li>CUPS doesn&rsquo;t write out <code>printers.conf</code> immediately when making changes even though they&rsquo;re live in CUPS. Therefore it will take a few moments before the services files update</li><li>Don&rsquo;t stop the container immediately if you intend to have a persistent configuration for this same reason</li></ul></div></div></article></div></main><footer style="background:rgba(0,0,0,.3);padding:2rem 0;margin-top:4rem;text-align:center;border-top:1px solid rgba(255,255,255,.1)"><div class=container><p style=color:#888;margin:0>Copyright Â© 2025 â€¢
Made with â™¥ï¸ by <a href=https://github.com/xyzroe target=_blank style=color:#9d50bb;text-decoration:none>xyzroe</a></p></div></footer><script>feather.replace()</script></body></html>