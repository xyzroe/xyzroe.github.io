class NomadTheme{constructor(){this.init()}init(){this.setupNavigation(),this.setupParticles(),this.setupTouchGestures()}setupNavigation(){const n=document.querySelectorAll(".nav-links a"),e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".nav-links");e&&e.addEventListener("click",()=>{t.classList.toggle("active");const n=t.classList.contains("active");e.setAttribute("aria-expanded",n),e.setAttribute("aria-label",n?"Close menu":"Open menu")}),n.forEach(n=>{n.addEventListener("click",()=>{t.classList.remove("active"),e&&e.setAttribute("aria-expanded","false")})}),document.addEventListener("keydown",n=>{n.key==="Escape"&&(t.classList.remove("active"),e&&e.setAttribute("aria-expanded","false"))})}showSection(e){const n=document.querySelectorAll(".content-section, .hero");n.forEach(e=>{e.classList.remove("active"),e.style.display="none",e.setAttribute("aria-hidden","true")});const t=document.getElementById(e);if(t){e==="home"?t.style.display="flex":(t.style.display="block",t.classList.add("active")),t.setAttribute("aria-hidden","false");const n=t.querySelector('a, button, input, [tabindex]:not([tabindex="-1"])');n&&n.focus()}}updateActiveNav(e){document.querySelectorAll(".nav-links a").forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-current","false")}),e.classList.add("active"),e.setAttribute("aria-current","page")}setupParticles(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const n=document.getElementById("particles");if(!n)return;const e=document.querySelector(".hero");if(!e)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.createParticles(),t.disconnect())})});t.observe(e)}createParticles(){const e=document.getElementById("particles"),t=window.innerWidth<768?25:50;for(let s=0;s<t;s++){const n=document.createElement("div");n.classList.add("particle"),n.style.left=Math.random()*100+"%",n.style.animationDelay=Math.random()*6+"s",n.style.animationDuration=Math.random()*3+3+"s",e.appendChild(n)}}setupTouchGestures(){let e=0,t=0;document.addEventListener("touchstart",n=>{e=n.touches[0].clientX,t=n.touches[0].clientY},{passive:!0}),document.addEventListener("touchend",n=>{if(!e||!t)return;const o=n.changedTouches[0].clientX,i=n.changedTouches[0].clientY,s=e-o,a=t-i;(s<0?-s:s)>(a<0?-a:a)&&(s<0?-s:s)>50&&(s>0?this.navigateSection("next"):this.navigateSection("prev")),e=0,t=0},{passive:!0})}navigateSection(e){const t=["home","social","blog","portfolio"],s=document.querySelector('.hero:not([style*="display: none"]), .content-section.active'),i=s?s.id:"home",o=t.indexOf(i);let n;e==="next"?n=(o+1)%t.length:n=(o-1+t.length)%t.length,this.showSection(t[n]),this.liveRegion&&(this.liveRegion.textContent=`Navigated to ${t[n]} section`)}filterPosts(e){const n=document.querySelectorAll(".blog-post"),s=document.querySelectorAll(".category-btn");s.forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")}),event.target.classList.add("active"),event.target.setAttribute("aria-pressed","true");let t=0;n.forEach(n=>{const s=n.dataset.categories;e==="all"||s.includes(e)?(n.style.display="block",t++):n.style.display="none"}),this.liveRegion&&(this.liveRegion.textContent=`Filtered to ${e} category, showing ${t} posts`)}}document.addEventListener("DOMContentLoaded",()=>{window.nomadTheme=new NomadTheme});function toggleMobileMenu(){window.nomadTheme?.setupNavigation()}function showSection(e){window.nomadTheme?.showSection(e)}function filterPosts(e){window.nomadTheme?.filterPosts(e)}